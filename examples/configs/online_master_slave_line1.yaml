# 在线采集 + 3D 定位配置（主从触发示例：master=Software，slaves=Line1）
# 适用：你已经在硬件上把 master 的 LineOut 接到了 slaves 的 LineIn。

# MVS Python 示例绑定目录（MvImport，可选）：
mvimport_dir: ""

# MVS SDK 动态库目录（可选）：
dll_dir: ""

serials:
  - "DA8199285"  # 示例：master
  - "DA8199303"  # 示例：slave1
  - "DA8199402"  # 示例：slave2

calib: data/calibration/example_triple_camera_calib.json

# 这里演示 detector=pt（Windows 友好）；你也可以改为 fake/color 做链路验证。
detector: pt
model: data/models/best.pt

min_score: 0.25
require_views: 2

# 多球鲁棒定位参数：
max_detections_per_camera: 10
max_reproj_error_px: 8.0
max_uv_match_dist_px: 25.0
merge_dist_m: 0.08

# group_by 建议 frame_num
# 主从触发时相机帧号通常更稳定。
group_by: frame_num

timeout_ms: 1000
group_timeout_ms: 1000
max_pending_groups: 256
max_groups: 0

out_jsonl: data/tools_output/online_positions_3d.master_slave.jsonl

trigger:
  # slave 触发源：这里使用 Line1
  trigger_source: Line1

  # master 必须在 serials 列表中
  master_serial: "DA8199285"

  # 主从触发模式下只对 master 下发软触发
  soft_trigger_fps: 5.0

  # 其余字段保持默认即可
  master_line_out: Line1
  master_line_source: ""
  master_line_mode: Output
  trigger_activation: RisingEdge
  trigger_cache_enable: false
