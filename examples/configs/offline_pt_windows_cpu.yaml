# 离线 3D 定位配置（Windows/CPU，使用 Ultralytics YOLOv8 .pt）
# 用法示例（任选其一）：
# - uv run python -m tennis3d.apps.offline_localize_from_captures --config examples/configs/offline_pt_windows_cpu.yaml
# - tennis3d-offline --config examples/configs/offline_pt_windows_cpu.yaml

# captures 目录：要求包含 metadata.jsonl，且其中 frames.file 指向实际图片。
captures_dir: data/captures_master_slave/tennis_test

# 标定文件：支持 .json/.yaml/.yml
calib: data/calibration/example_triple_camera_calib.json

# 检测器后端：fake|color|rknn|pt
# Windows 上通常使用 pt（不依赖 rknn 运行时）。
detector: pt

# 模型路径：detector=pt 时必填（.pt）
model: data/models/best.pt

# 置信度阈值：会传给 detector，同时也会作为 pipeline 的 min_score
min_score: 0.25

# 至少需要几路相机同时检测到球，才会做三角化输出 3D
require_views: 2

# 多球鲁棒定位参数：
max_detections_per_camera: 10
max_reproj_error_px: 8.0
max_uv_match_dist_px: 25.0
merge_dist_m: 0.08

# 最多处理多少个 group（0 表示不限）
max_groups: 0

# 输出 JSONL 路径（每行一个结果记录）
out_jsonl: data/tools_output/offline_positions_3d.pt.jsonl
