# 离线 3D 定位配置模板（pt 检测器：Ultralytics YOLOv8 .pt / Windows 友好）
#
# 用法示例：
# - uv run python -m tennis3d.apps.offline_localize_from_captures --config examples/configs/templates/offline_pt_ultralytics.yaml

captures_dir: data/captures_master_slave/tennis_test
calib: data/calibration/example_triple_camera_calib.json

# 可选：只使用指定相机序列号（serial）参与检测/定位。
# - 不写：默认使用 captures 中出现的全部相机。
# - 3D 定位至少需要 2 路视角，且 serials 数量必须 >= require_views。
# serials:
#   - DA8199303
#   - DA8199402

# 检测器后端：fake|color|rknn|pt
# Windows 上推荐 pt（不依赖 rknn 运行时）。
detector: pt

# detector=pt 时必填（.pt）
# 建议使用相对路径，方便项目搬迁；也可写绝对路径。
model: data/models/best.pt

min_score: 0.25
require_views: 2

# 多球鲁棒定位参数：
max_detections_per_camera: 10
max_reproj_error_px: 8.0
max_uv_match_dist_px: 25.0
merge_dist_m: 0.08

max_groups: 0

out_jsonl: data/tools_output/offline_positions_3d.pt.template.jsonl
